[gd_scene load_steps=25 format=3 uid="uid://bpcwsp8fllas3"]

[ext_resource type="PackedScene" uid="uid://dhmahi207773c" path="res://Scenes/Racecar.tscn" id="1_03ipr"]
[ext_resource type="Script" path="res://Scripts/Player.gd" id="2_okwp7"]
[ext_resource type="AudioStream" uid="uid://bu4lkvtyrho5s" path="res://Audio/Music/RaceOnceMusic.mp3" id="3_f1ggh"]
[ext_resource type="Script" path="res://Scripts/PauseMenu.gd" id="4_aty8r"]
[ext_resource type="Texture2D" uid="uid://b66cmhidn4q12" path="res://Art/buttons/pause.png" id="4_bg4jk"]
[ext_resource type="Texture2D" uid="uid://cxbq4nw0quapt" path="res://Art/buttons/pauseClicked.png" id="5_mk74g"]
[ext_resource type="Texture2D" uid="uid://cvi41tp7ncl77" path="res://Art/buttons/pauseHover.png" id="6_fr2uf"]
[ext_resource type="Texture2D" uid="uid://bbm3kqjuk47qc" path="res://Art/buttons/play.png" id="8_h38bi"]
[ext_resource type="Texture2D" uid="uid://u4gplrg663yv" path="res://Art/buttons/playClicked.png" id="9_noodl"]
[ext_resource type="Texture2D" uid="uid://bb5jid0ahal35" path="res://Art/buttons/playHover.png" id="10_ammnk"]
[ext_resource type="PackedScene" uid="uid://h2ebsepmvony" path="res://Scenes/Environment.tscn" id="11_w4mv8"]

[sub_resource type="Gradient" id="Gradient_3oxqj"]
offsets = PackedFloat32Array(0, 0.486486, 0.494208, 1)
colors = PackedColorArray(0.246701, 0.60184, 0, 1, 0.344369, 0.721341, 0.07604, 1, 0.334432, 0.707966, 0.070357, 1, 0.426158, 0.82419, 7.70092e-06, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_3u1fx"]
noise_type = 2
seed = 12
frequency = 0.2253
cellular_return_type = 0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_oaivc"]
color_ramp = SubResource("Gradient_3oxqj")
noise = SubResource("FastNoiseLite_3u1fx")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2nlr5"]
albedo_texture = SubResource("NoiseTexture2D_oaivc")
albedo_texture_force_srgb = true

[sub_resource type="PlaneMesh" id="PlaneMesh_fov30"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_qovck"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="Gradient" id="Gradient_f04y8"]
offsets = PackedFloat32Array(0.467181, 0.478764, 0.517375, 0.525097)
colors = PackedColorArray(0, 0, 0, 1, 0.972973, 0.972973, 0.972973, 1, 0.400636, 0.400636, 0.400636, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_xjqp6"]
gradient = SubResource("Gradient_f04y8")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wwetl"]
albedo_texture = SubResource("GradientTexture1D_xjqp6")

[sub_resource type="PlaneMesh" id="PlaneMesh_cfmhg"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ijkcj"]
sky_top_color = Color(0.184314, 0.729412, 1, 1)
sky_horizon_color = Color(0, 0.419608, 0.462745, 1)
ground_bottom_color = Color(0.176471, 0.541176, 0.156863, 1)
ground_horizon_color = Color(0.196078, 0.470588, 0.4, 1)

[sub_resource type="Sky" id="Sky_dluij"]
sky_material = SubResource("ProceduralSkyMaterial_ijkcj")

[sub_resource type="Environment" id="Environment_rawl0"]
background_mode = 2
sky = SubResource("Sky_dluij")

[node name="Level" type="Node3D"]

[node name="grass" type="MeshInstance3D" parent="."]
transform = Transform3D(201.145, 0, 0, 0, 1, 0, 0, 0, 173.331, 0, 0, 0)
visible = false
material_overlay = SubResource("StandardMaterial3D_2nlr5")
mesh = SubResource("PlaneMesh_fov30")

[node name="StaticBody3D" type="StaticBody3D" parent="grass"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="grass/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_qovck")

[node name="road" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.817499, 0, -32.9175, 0, 1.12847, 0, 0.300473, 0, -89.5588, -26.278, 0.00999999, -68.213)
visible = false
material_override = SubResource("StandardMaterial3D_wwetl")
mesh = SubResource("PlaneMesh_cfmhg")
skeleton = NodePath("../grass")

[node name="Racecar" parent="." instance=ExtResource("1_03ipr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)
script = ExtResource("2_okwp7")
MAX_STEER = 1.5
ENGINE_POWER = 400

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Racecar"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.590005, 0.972212, 1.09557)
stream = ExtResource("3_f1ggh")
autoplay = true

[node name="Camera3D" type="Camera3D" parent="Racecar"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 1.75, -1)
environment = SubResource("Environment_rawl0")
fov = 69.9

[node name="GUI" type="CanvasLayer" parent="."]

[node name="PauseButton" type="TextureButton" parent="GUI"]
offset_left = 20.0
offset_top = 20.0
offset_right = 84.0
offset_bottom = 84.0
focus_mode = 0
texture_normal = ExtResource("4_bg4jk")
texture_pressed = ExtResource("5_mk74g")
texture_hover = ExtResource("6_fr2uf")

[node name="PauseMenu" type="Control" parent="GUI"]
process_mode = 3
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("4_aty8r")

[node name="BackgroundColor" type="ColorRect" parent="GUI/PauseMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.337255, 0.337255, 0.337255, 0.768627)

[node name="PauseLabel" type="Label" parent="GUI/PauseMenu"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -88.0
offset_top = 50.0
offset_right = 88.0
offset_bottom = 122.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 50
text = "Paused"

[node name="PlayButton" type="TextureButton" parent="GUI/PauseMenu"]
layout_mode = 0
offset_left = 20.0
offset_top = 20.0
offset_right = 84.0
offset_bottom = 84.0
focus_mode = 0
texture_normal = ExtResource("8_h38bi")
texture_pressed = ExtResource("9_noodl")
texture_hover = ExtResource("10_ammnk")

[node name="Environment" parent="." instance=ExtResource("11_w4mv8")]

[connection signal="pressed" from="GUI/PauseButton" to="GUI/PauseMenu" method="_pause_toggle"]
[connection signal="pressed" from="GUI/PauseMenu/PlayButton" to="GUI/PauseMenu" method="_pause_toggle"]
